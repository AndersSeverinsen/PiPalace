<!DOCTYPE HTML>
<!--
	Forty by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>PiPalace</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		<link rel="icon" href="images/palace-png.png">
	</head>
	<body>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
				<!-- Note: The "styleN" class below should match that of the banner element. -->
					<header id="header" class="alt style2">
						<a href="index.html" class="logo"><span><i class="material-icons" style="font-size:30px; padding-top:15px;">home</i></span></a>
						<nav>
							<a href="#"><i class="material-icons" style="font-size:30px; padding-top:15px;">arrow_upward</i></a>
							<a href="#menu"><i class="material-icons" style="font-size:30px; padding-top:15px;">menu</i></a>
						</nav>
					</header>
				
					<nav id="menu">
						<ul class="links">
							<li><a href="#intro" class="scrolly">Introduction</a></li>
							<li><a href="#materials" class="scrolly">Materials</a></li>
							<li><a href="#weather" class="scrolly">Weather data</a></li>
							<li><a href="#set_up" class="scrolly">Setting up the Pi</a></li>
							<li><a href="#acces" class="scrolly">3D Printed accessories</a></li>
							<li><a href="#result" class="scrolly">The result</a></li>
						</ul>
						<ul class="actions vertical">
							<li><a href="index.html" class="button special fit">Home</a></li>
							<!-- <li><a href="#" class="button fit">Log In</a></li> -->
						</ul>
					</nav>
					
				<!-- Banner -->
				<!-- Note: The "styleN" class below should match that of the header element. -->
					<section id="banner" class="style2">
						<div class="inner">
							<span class="image">
								<img src="images/irr_doneboardbuttom2.jpeg" alt="" />
							</span>
							<header class="major">
								<h1>IR Badge</h1>
							</header>
							<div class="content">
								<p>Arduino Nano IR remote and prototype PCB.</p>
							</div>
						</div>
					</section>

				<!-- Main -->
					<div id="main">

						<!-- Introduction -->
							<section id="one">
								<div class="inner" id="intro">
									<header class="major">
										<h2>Introduction</h2>
									</header>
									<p>Is your TV remote broken, or do you need to control a project with IR?</p>
									<p>Whatever it might be, this guide will show you how to make it!</p>
									<p>If you like this project, feel free to vote for it in the <a class="else" href="https://www.instructables.com/contest/pcb2021/" target="_blank" style="color:#ed4933; border-bottom:transparent;">PCB Challenge Contest</a>.</p>
								</div>
							</section>
							<section id="two" class="spotlights">
								<section>
									<a class="image">
										<img src="images/irr_comp.jpeg" alt="" data-position="center center" />
									</a>
									<div class="content" id="materials">
										<div class="inner">
											<header class="major">
												<h3>What you will need:</h3>
											</header>
												<ul style="list-style-type:disc;">
													<p><b>Components:</b></p>
													<li><p>An <a class="else" href="https://www.amazon.com/HiLetgo-Internet-Development-Wireless-Micropython/dp/B010O1G1ES/ref=sr_1_1_sspa?crid=270RI4YOL5AMS&keywords=nodemcu%2Besp8266&qid=1557499871&s=gateway&sprefix=node%2Bmcu%2Caps%2C343&sr=8-1-spons&th=1" target="_blank" style="color:#ed4933; border-bottom:transparent;">Arduino Nano</a> and a micro USB cable with data lines</p></li>
													<li><p>An <a class="else" href="https://www.amazon.com/AIRSUNNY-three-Infrared-Emission-Receiver/dp/B00EFOQEUM/ref=sr_1_1?keywords=infared+led+and+ressiver&qid=1557499597&s=gateway&sr=8-1-spell" target="_blank" style="color:#ed4933; border-bottom:transparent;">IR Receiver and IR LED</a></p></li>
													<li><p>An <a class="else" href="https://www.amazon.co.uk/Elegoo-Board-ATmega328P-ATMEGA16U2-Arduino/dp/B01EWOE0UU/ref=sr_1_3?keywords=arduino+uno&qid=1558103364&s=gateway&sr=8-3" target="_blank" style="color:#ed4933; border-bottom:transparent;">AAA battery holder</a></p></li>
													<li><p>Two <a class="else" href="https://www.amazon.com/DiCUNO-1000pcs-Assorted-Emitting-Diffused/dp/B077J2WJRS/ref=sr_1_1_sspa?keywords=leds+3mm&qid=1557500301&s=gateway&sr=8-1-spons&psc=1" target="_blank" style="color:#ed4933; border-bottom:transparent;">3mm LEDs</a> <i>(I chose a red and a green)</i></p></li>
													<li><p>Two <a class="else" href="https://www.aliexpress.com/item/Free-shipping-5pcs-lot-MP1482-power-supply-chip-voltage-regulator-integrated-SOP-8/32636020144.html?spm=a2g0s.9042311.0.0.7aa84c4dszVyd0" target="_blank" style="color:#ed4933; border-bottom:transparent;">220 Î© Resistors</a></p></li>
													<li><p>A <a class="else" href="https://www.amazon.com/LGDehome-Breadboard-Solderless-Protoboard-Flexible/dp/B06ZZZL6FF/ref=sr_1_1_sspa?keywords=breadboard&qid=1557500684&s=gateway&sr=8-1-spons&psc=1" target="_blank" style="color:#ed4933; border-bottom:transparent;">Breadboard and Jumper Cables</a></p></li>
													<li><p><i>Optional:</i> A Custom PCB, a Laser Cut Case, Standoffs, JST Connectors, Wire and Single Row Female Header Pins</p>
													<p style="padding-top:10px;"><b>Tools:</b></p>
													<li><p>A Computer</p></li>
													<li><p><i>Optional:</i> A Soldering Iron, a Wire Cutter and a PCB Holder</p></li>
												</ul>
										</div>
									</div>
								</section>
							<section>
								<a class="image">
									<img src="images/alexaIR_sinric.png" alt="" data-position="25% 25%" />
								</a>
								<div class="content" id="weather">
									<div class="inner">
										<header class="major">
											<h2>Setting Up Sinric <i>(by <a class="else" href="https://github.com/kakopappa/sinric" target="_blank" style="color:#ed4933; border-bottom:transparent;">kakopappa</a>)</i></h2>
										</header>
										<ol type="1">
											<li>Go to <a class="else" href="https://sinric.com/" target="_blank" style="color:#ed4933; border-bottom:transparent;">Sinric.com</a> and register for an account.</li>
											<li>Login and <b>COPY</b> Your API Key.</li>
											<li>Create a new Smart Home Device by pressing <b>Add</b>, and typing in a name, and selecting Switch under Device Type. Then press <b>Save</b>.</li>
											<li>Now you should see a new device on the dashboard. Copy the Device ID.</li>
										</ol>
									</div>
								</div>
							</section>
							<section>
								<a class="image">
									<img src="images/alexaIR_arduino2.png" alt="" data-position="25% 25%" />
								</a>
								<div class="content" id="weather">
									<div class="inner">
										<header class="major">
											<h2>Setting Up the Arduino IDE</h2>
										</header>
										<ol type="1">
											<li>Download and install the Arduino IDE if you haven't already, by going to <a class="else" href="https://www.arduino.cc/en/Main/Software" target="_blank" style="color:#ed4933; border-bottom:transparent;">https://www.arduino.cc/en/Main/Software</a>.</li>
											<li>Open the Arduino IDE, and go into <b>Preferences</b>. Then under <b>Additional Board Manager URLs</b>, add this URL:</li>
											<pre style="padding-top:10px;"><code>http://arduino.esp8266.com/stable/package_esp8266com_index.json</code></pre>
											<li>Download this .zip file:</li>
											<ul class="actions" style="padding-top: 15px;">
												<li><a href="downloads/ArduinoJson-v5.13.2.zip" class="button special">ArduinoJson-v5.13.2.zip <!-- <i class="material-icons">file_download</i> --> </a></li>
											</ul>
											<li>In the Arduino IDE, go to <b>Sketch</b> &rarr; <b>Include Library</b> &rarr; <b>Add Zip Library</b> and select the .zip file.</li>
											<li>Repeat the process with this .zip file:</li>
											<ul class="actions" style="padding-top: 15px;">
												<li><a href="downloads/arduinoWebSockets-2.1.1.zip" class="button special">arduinoWebSockets-2.1.1.zip <!-- <i class="material-icons">file_download</i> --> </a></li>
											</ul>
											<li>Now go into <b>Sketch</b> &rarr; <b>Include Library</b> &rarr; <b>Manage Libraries</b>, and search for <b>IRremoteESP8266</b>. Select Version 2.5.3, and install.</li>
											<li>Also install the <b>IRremote</b> library, the same way. (latest version)</li>
											<li><p>Then Exit and restart the IDE.</p></li>
										</ol>
									</div>
								</div>
							</section>
							<section>	
								<a class="image">
									<img src="images/alexaIR_irrecv.png" alt="" data-position="25% 25%" />
								</a>
								<div class="content" id="set_up">
									<div class="inner">
										<header class="major">
											<h2>Reading the IR signals from the TV Remote</h2>
										</header>
										<ol type="1">
											<li>Start by connecting an IR Receiver to the Arduino Uno on a breadboard with Jumper Cables, as shown in the schematic.</li>
											<li>Download the <b>IRrecvDump_final.zip</b>, unzip it, and open the <b>.ino</b> file in the Arduino IDE.</li>
											<ul class="actions" style="padding-top: 15px;">
												<li><a href="downloads/IRrecvDump_final.zip" class="button special">IRrecvDump_final.zip <!-- <i class="material-icons">file_download</i> --> </a></li>
											</ul>
										</ol>
									</div>
								</div>
							</section>
							<section>	
									<a class="image">
										<img src="images/alexaIR_irrecv-serial.png" alt="" data-position="25% 25%" />
									</a>
									<div class="content" id="set_up">
										<div class="inner">
											<ol type="1">
												<li>Plug the Arduino Uno into your computer.</li>
												<li>In the Arduino IDE, under <b>Tools</b> and <b>Board</b> select Arduino/Genuino Uno, and under <b>Port</b>, select the correct port.</li>
												<li>Upload the code to the Arduino, by pressing the arrow (<b>&rarr;</b>).</li>
												<li>Open the Serial Monitor by going to <b>Tools</b> and <b>Serial Monitor</b>.</li>
												<li>Set the baud rate to <b>9600</b>.</li>
												<li>Point you TV Remote at the IR Receiver and press the buttons you want to be able to control, and copy the <i>Raw</i> input for later.</li>
												<li>When you are done noting the signals, disconnect the Arduino from your computer, ready for the next step.</li>
											</ol>
										</div>
									</div>
								</section>
							<section>
								<a class="image">
									<img src="images/alexaIR_NodeMCU.png" alt="" data-position="25% 25%" />
								</a>
								<div class="content" id="acces">
									<div class="inner">
										<header class="major">
											<h2>Setting up the NodeMCU</h2>
										</header>
										<ol type="1">
											<li>Download the <b>Sinric_NodeMCU_Alexa_TV_Control.zip</b>, unzip it, and open the <b>.ino</b> file in the Arduino IDE.</li>
											<ul class="actions" style="padding-top: 15px;">
												<li><a href="downloads/Sinric_NodeMCU_Alexa_TV_Control.zip" class="button special">Sinric_NodeMCU_Alexa_TV_Control.zip <!-- <i class="material-icons">file_download</i> --> </a></li>
											</ul>
											<li>In the Arduino IDE, under <b>Tools</b> and <b>Board</b> select NodeMCU 1.0 (ESP-12E Module), under <b>Flash Size</b> select 4M (3M SPIFFS), and under <b>Port</b> select the correct port.</li>
											<li>In the file <b>Sinric_NodeMCU_Alexa_TV_Control.ino</b> enter in <u>your</u> IR Remote Signals, Device ID, Api Key, Wifi Name and Wifi Password, in the specified places. To increase the number of devices, uncomment the specified lines of code.</li>
										</ol>
									</div>
								</div>
							</section>
							<section>
								<a class="image">
									<img src="images/alexaIR_nodemcu_ir.png" alt="" data-position="25% 25%" />
								</a>
								<div class="content" id="acces">
									<div class="inner">
										<ol type="1">
											<li>Connect up the NodeMCU to the IR LED, the Red and Green LEDs and the Resistors, on the Breadboard, as shown in the electronics diagram. (The red and green LEDs are not required)</li>
											<li>Connect the NodeMCU to your computer with a Micro USB cable.</li>
											<li>Upload the code to the board.</li>
											<li>The Green LED should light up, whenever it has connected to the Wifi.</li>
										</ol>
									</div>
								</div>
							</section>
							<section>
									<a class="image">
										<img src="images/alexaIR_discovering_slim.png" alt="" data-position="25% 25%" />
									</a>
									<div class="content" id="acces">
										<div class="inner">
											<header class="major">
												<h2>Setting it up with Alexa</h2>
											</header>
											<ol type="1">
												<li>Install the <b>Amazon Alexa</b> App on your phone, and login with your Amazon account.</li>
												<li>Go to <b>Skills & Games</b>, and search for <b>sinric</b> and press <b>Enable</b>, and you will be asked to login to your Sinric account.</li>
												<li>Discover your device by going to <b>Devices</b> &rarr; <b>+</b> &rarr; <b>Add Device</b> &rarr; <b>Other</b> &rarr; <b>DISCOVER DEVICES</b>. (Make sure your Alexa is connected to the same network as the NodeMCU.)</li>
												<li>Hopefully it should have discovered your device, so all you need to do is set up your device.</li>
												<li>Now test it by placing the breadboard near the TV, pointing the IR LED at the TV, and saying something like: <i>Alexa, turn on the TV</i>. You should see the red LED blink and your TV turn on.</li>
											</ol>
										</div>
									</div>
								</section>
								<section>
									<a class="image">
										<img src="images/alexaIR_soldering.jpeg" alt="" data-position="25% 25%" />
									</a>
									<div class="content" id="acces">
										<div class="inner">
											<header class="major">
												<h2>Optional: Custom PCB and Laser Cut Case</h2>
											</header>
											<p>To make it look more professional and to make it more permanent, I made a custom PCB, to replace the breadboard.</p>
											<p>I made the PCB with <a class="else" href="https://easyeda.com/" target="_blank" style="color:#ed4933; border-bottom:transparent;">EasyEDA</a>, and ordered the PCB from <a class="else" href="https://jlcpcb.com/" target="_blank" style="color:#ed4933; border-bottom:transparent;">JLCPCB</a>, and the board worked first time. The IR LED can be connected to the JST connector, so the case can sit under the TV, while the IR LED is mounted under the TV's IR Receiver.</p>
											<p>I then made a Laser Cut case, to house the PCB.</p>
										</div>
									</div>
								</section>
						</section>
							<section id="one">
								<div class="inner" id="result">
									<header class="major">
										<h2>The result</h2>
									</header>
									<p>Congratulations, you're done!!!</p>
								</div>
									<!-- Slideshow container -->
									<div class="slideshow-container">
									
										<div class="mySlides fade">
										  <div class="numbertext">1 / 3</div>
										  <img src="images/irr_doneboardbuttom.jpeg" style="width:100%">
										</div>
										
										<div class="mySlides fade">
										  <div class="numbertext">2 / 3</div>
										  <img src="images/irr_doneboardbuttom2.jpeg" style="width:100%">
										</div>
										
										<div class="mySlides fade">
										  <div class="numbertext">3 / 3</div>
										  <img src="images/irr_solderblackandblue.jpeg" style="width:100%">
										</div>
										
										<a class="prev" onclick="plusSlides(-1)">&#10094;</a>
										<a class="next" onclick="plusSlides(1)">&#10095;</a>
											
										</div>
										<br>
										
										<div style="text-align:center">
										  <span class="dot" onclick="currentSlide(1)"></span> 
										  <span class="dot" onclick="currentSlide(2)"></span> 
										  <span class="dot" onclick="currentSlide(3)"></span> 
									</div>
								</section>
							</section>
						</section>
					</div>

				<!-- Footer -->
					<footer id="footer">
						<div class="inner">
							<ul class="icons">
								<li><a href="https://github.com/Anders644PI" target="_blank" class="icon alt fa-github"><span class="label">GitHub</span></a></li>
								<li><a href="https://www.thingiverse.com/Anders644PI/about" target="_blank" class="icon alt fa-share-alt"><span class="label">Thingiverse</span></a></li>
								<li><a href="https://www.instructables.com/member/Anders644PI/" target="_blank" class="icon alt fa-group"><span class="label">GitHub</span></a></li>
								<li><a href="https://www.instagram.com/anders644pi/" target="_blank" class="icon alt fa-instagram"><span class="label">Instagram</span></a></li>
								<li><a href="https://twitter.com/Anders644PI" target="_blank" class="icon alt fa-twitter"><span class="label">Twitter</span></a></li>
							</ul>
							<ul class="copyright">
								<li>PiPalace <i style="padding-left:5px;" class="fa fa-bank"></i></li>
								<li>By: Anders Severinsen</li>
							</ul>
						</div>
					</footer>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>

			<script>
					var slideIndex = 1;
					showSlides(slideIndex);
					
					function plusSlides(n) {
					  showSlides(slideIndex += n);
					}
					
					function currentSlide(n) {
					  showSlides(slideIndex = n);
					}
					
					function showSlides(n) {
					  var i;
					  var slides = document.getElementsByClassName("mySlides");
					  var dots = document.getElementsByClassName("dot");
					  if (n > slides.length) {slideIndex = 1}    
					  if (n < 1) {slideIndex = slides.length}
					  for (i = 0; i < slides.length; i++) {
						  slides[i].style.display = "none";  
					  }
					  for (i = 0; i < dots.length; i++) {
						  dots[i].className = dots[i].className.replace(" active", "");
					  }
					  slides[slideIndex-1].style.display = "block";  
					  dots[slideIndex-1].className += " active";
					}
					</script>
					
	</body>
</html>